
\section{Derivatives, Part I (The Fundamentals)}

\subsection{Formal definitions}

\textbf{Definition:} the \textit{derivative} at $a$ of a function $f$,
denoted $f'(a)$, is defined as:
\[f'(a)=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\]

There are two \textit{intuitions} to convey about the derivative:
\begin{itemize}
\item \textit{First}, draw a line through points $(a, f(a))$ and
  $(a+h, f(a+h))$ for some small $h$. Then make $h$ ``infinitely
  small''. Our $f'(a)$ is the slope of that line.
\item \textit{Second}, \textbf{TODO:} physics intuition.
\end{itemize}

\textbf{Definition:} $f$ is called \textit{differentiable} at $a$ if
the limit $f'(a)$ exists.

\vs

The notation $f'(a)$ suggests $f'$ is a function. Indeed, we define
$f'$ as follows. Its domain is the set of all numbers $a$ where $f$ is
differentiable, and its value at such a point $a$ is the limit above.
Not surprisingly, we call $f'$ the \textit{derivative} of $f$. Note
that the domain of $f'$ could be much smaller than the domain of $f$.

\vs

We can apply the definition of the derivative to $f'$ yielding the
\textit{second derivative} $(f')'$, denoted $f''$ or $f^{(2)}$. The
domain of $f''$ is all points $a$ such that $f'$ is differentiable at
$a$. If $f''(a)$ exists, we say $f$ is \textit{twice differentiable}
at $a$.

\vs

\textbf{Theorem:} if $f$ is differentiable at $a$, then $f$ is
continuous at $a$.

\textbf{Proof: TODO} we must show that:
\[\lim_{x\to a}f(x)=f(a)\]

Observe that $\lim_{x\to a}f(x)$ is equivalent to $\lim_{h\to 0}f(a+h)$.
\textbf{Todo.} The proof is now straightforward:
\begin{align*}
  \lim_{h\to0}[f(a+h)-f(a)]&=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\cdot h\\
                         &=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\cdot \lim_{h\to
                           0}h\\
                         &=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\cdot 0\\
                         &=0
\end{align*}

It follows that
\begin{align*}
  &\lim_{h\to0}[f(a+h)-f(a)]=0\\
  &\implies \lim_{h\to0}f(a+h)-\lim_{h\to0}f(a)=0\\
  &\implies \lim_{h\to0}f(a+h)=\lim_{h\to0}f(a)=f(a)
\end{align*}

\subsection{Leibniz notation}

The notation $f'$ is called Lagrange's notation.\footnote{Wikipedia
  claims the notation was invented by Euler and Lagrange only
  popularized it.} It's supposed to be modern, and Spivak's book
standardizes on it. Another notation commonly in use is the older (but
often convenient, instructive, but also initially confusing) Leibniz
notation.

\subsubsection*{Historical interpretation}

Leibniz didn't know about limits, and thought the derivative is the
value of the quotient $\frac{f(a+h)-f(a)}{h}$ when $h$ is
``infinitesimally small''. He denoted this infinitesimally small
quantity by $dx$, and the corresponding difference $f(x+dx)-f(x)$ by
$df(x)$. Thus for a given function $f$ the Leibniz notation for its
derivative $f'$ is:
\[\frac{df(x)}{dx}=f'\]

Intuitively, we can think of $d$ in a historical context as ``delta''
or ``change''. Then we can interpret this notation as Leibniz did-- a
quotient of a tiny change in $f(x)$ and a tiny change in $x$.

\vs

Leibniz notation for the second derivative is
\[\frac{d\left(\frac{df(x)}{dx}\right)}{dx},\ \ \ \text{abbreviated
    to}\ \ \ \frac{d^2f(x)}{(dx)^2}, \ \ \ \text{or more often to}\ \
  \ \frac{d^2f(x)}{dx^2}.\]

\subsubsection*{Modern interpretation}

Complete ordered fields do not have a notion of infinitesimally small
quantities. Thus in a modern interpretation we treat
$\frac{df(x)}{dx}$ as a symbol denoting $f'$, \textit{not} as a
quotient of numbers. Nothing here is being divided, nothing can be
canceled out. In a modern interpretation $\frac{df(x)}{dx}$ is just
one thing that \textit{happens to look} like a quotient.

\vs

There are two notable ambiguities associated with the Leibniz
notation. First, $\frac{df(x)}{dx}$ is frequently abbreviated to
$\frac{df}{dx}$. Second, $\frac{df(x)}{dx}$ sometimes means the
function $f'$, and sometimes means the value $f'(x)$. The meaning of
the symbol often must be deteremined from the specific context.

\subsection{Low-level proofs}

In the next chapter we prove theorems that make finding derivatives
for many classes of functions easy. But for now we show four low-level
derivations directly from the definition. Here we will be looking at
constant functions, linear functions, quadratic, and cubic functions.

\subsubsection*{Constant functions}
Let $f(x)=c$. Then:
\[f'(a)=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}=\lim_{h\to0}\frac{c-c}{h}=0\]

Thus $f$ is differentiable at $a$ for every number $a$, and $f'(a)=0$.

\subsubsection*{Linear functions}
Let $f(x)=cx+d$. Then:
\begin{align*}
  f'(a)&=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\\
       &=\lim_{h\to0}\frac{c(a+h)+d-(ca+d)}{h}\\
       &=\lim_{h\to0}\frac{ch}{h}=c
\end{align*}

Thus $f$ is differentiable at $a$ for every number $a$, and $f'(a)=c$.

\subsubsection*{Quadratic functions}
Let $f(x)=x^2$. Then:
\begin{align*}
  f'(a)&=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\\
       &=\lim_{h\to0}\frac{(a+h)^2-a^2}{h}\\
       &=\lim_{h\to0}\frac{a^2+2ah+h^2-a^2}{h}\\
       &=\lim_{h\to0}\frac{2ah+h^2}{h}\\
       &=\lim_{h\to0}2a+h\\
       &=\lim_{h\to0}2a
\end{align*}

Thus $f$ is differentiable at $a$ for every number $a$, and $f'(a)=2a$.

\subsubsection*{Cubic functions}
Let $f(x)=x^3$. Then:
\begin{align*}
  f'(a)&=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}\\
       &=\lim_{h\to0}\frac{(a+h)^3-a^3}{h}\\
       &=\lim_{h\to0}\frac{a^3+3a^2h+3ah^2+h^3-a^3}{h}\\
       &=\lim_{h\to0}\frac{3a^2h+3ah^2+h^3}{h}\\
       &=\lim_{h\to0}3a^2+3ah+h^2\\
       &=3a^2
\end{align*}

Thus $f$ is differentiable at $a$ for every number $a$, and $f'(a)=3a^2$.

\subsection{Non-differentiability}
Continuous functions are ``nice''. Functions that are differentiable
everywhere are ``nicer''. Functions that are differentiable everywhere
and whose first derivative is differentiable everywhere are nicer
still. Thus to fully understand the derivative we must understand
examples where it does not exist.

\vs

We now turn our attention to functions that aren't differentiable at
some points $a$. We first look at four simple examples where there
isn't everywhere a first derivative. We then turn our attention to a
more subtle example-- a function that's differentiable in the first,
but not everywhere in the second derivative.

\subsubsection*{First derivative}

\textbf{Example 1}

Let $f(x)=|x|$. Consider $f'(0)$:
\[f'(0)=\lim_{h\to0}\frac{f(0+h)-f(0)}{h}=\lim_{h\to0}\frac{|h|}{h}\]

Observe that $\lim_{h\to0^+}\frac{|h|}{h}=1$ and
$\lim_{h\to0^-}\frac{|h|}{h}=-1$. This $\lim_{h\to0}\frac{|h|}{h}$ does
not exist, and $f$ is not differentiable at $0$. Note that $f$ is
differentiable at every other point: $f'(a)=-1$ for $a<0$ and
$f'(a)=-1$ for $a>0$.

\vs

\textbf{Example 2}

Let $f$ be defined as follows:
\[f(x)=\begin{cases}
  x^2,&x\leq 0\\
  x,&x\geq 0
\end{cases}\]

Now consider $f'(0)$:
\[f'(0)=\lim_{h\to0}\frac{f(0+h)-f(0)}{h}=\lim_{h\to0}\frac{f(h)}{h}\]

Observe that
\[\frac{f(h)}{h}=\begin{cases}
  \frac{h^2}{h}=h,&h\leq0\\
  \frac{h}{h}=1,&h\geq0
\end{cases}\]

Therefore $\lim_{h\to0^-}\frac{f(h)}{h}=0$ and
$\lim_{h\to0^+}\frac{f(h)}{h}=1$. Thus $\lim_{h\to0}\frac{f(h)}{h}$ does
not exist, and $f$ is not differentiable at $0$.

\vs

\textbf{Example 3}

Let $f(x)=\sqrt{|x|}$. Consider $f'(0)$:
\[f'(0)=\lim_{h\to0}\frac{f(a+h)-f(a)}{h}=\lim_{h\to0}\frac{\sqrt{|h|}}{h}\]

Observe that
\[\frac{\sqrt{|h|}}{h}=\begin{cases}
  \frac{\sqrt{-h}}{h}=-\frac{1}{\sqrt{-h}},&h<0\\
  \frac{\sqrt{h}}{h}=\frac{1}{\sqrt{h}},&h>0
\end{cases}\]

Therefore $\lim_{h\to0^+}\frac{\sqrt{|h|}}{h}=\infty$ and
$\lim_{h\to0^-}\frac{\sqrt{|h|}}{h}=-\infty$. Thus
$\lim_{h\to0}\frac{\sqrt{|h|}}{h}$ does not exist, and $f$ is not
differentiable at $0$.

\vs

\textbf{Example 4}

Let $f(x)=\sqrt[3]{x}$.


\subsubsection*{Second derivative}
We now come to our more subtle example-- a function that's
differentiable in the first but not everywhere in the second
derivative:

\[f(x)=\begin{cases}
  x^2,&x\geq0\\
  -x^2,&x\leq0
  \end{cases}\]

\subsection{Intersections}

%%% Local Variables:
%%% TeX-master: "notes"
%%% End:
